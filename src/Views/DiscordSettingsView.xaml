<UserControl x:Class="VRCGroupTools.Views.DiscordSettingsView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes">
    
    <ScrollViewer VerticalScrollBarVisibility="Auto">
        <StackPanel Margin="10">
            <!-- Header -->
            <TextBlock Text="ðŸ”” Discord Notifications" 
                       FontSize="24" 
                       FontWeight="Bold" 
                       Foreground="White"
                       Margin="0,0,0,5"/>
            <TextBlock Text="Send group events to a Discord channel via webhook" 
                       Foreground="#AAA" 
                       Margin="0,0,0,20"/>

            <!-- Webhook URL Section -->
            <Border Background="#2D2D30" CornerRadius="8" Padding="20" Margin="0,0,0,20">
                <StackPanel>
                    <TextBlock Text="Webhook URL" Foreground="#AAA" FontSize="12" Margin="0,0,0,8"/>
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <TextBox Grid.Column="0"
                                 Text="{Binding WebhookUrl, UpdateSourceTrigger=PropertyChanged}"
                                 materialDesign:HintAssist.Hint="https://discord.com/api/webhooks/... or https://discordapp.com/api/webhooks/..."
                                 Foreground="White"
                                 CaretBrush="White"
                                 Style="{StaticResource MaterialDesignOutlinedTextBox}"/>
                        <Button Grid.Column="1"
                                Content="{Binding IsTesting, Converter={StaticResource BoolToTestButtonConverter}}"
                                Command="{Binding TestWebhookCommand}"
                                IsEnabled="{Binding IsTesting, Converter={StaticResource InverseBooleanConverter}}"
                                Margin="10,0,0,0"
                                Width="100"
                                Style="{StaticResource MaterialDesignOutlinedButton}"/>
                    </Grid>
                    <TextBlock Text="{Binding StatusMessage}" 
                               Foreground="#AAA" 
                               FontSize="12" 
                               Margin="0,10,0,0"
                               Visibility="{Binding StatusMessage, Converter={StaticResource NullToVisibilityConverter}}"/>
                    <TextBlock Text="Create a webhook in Discord: Server Settings â†’ Integrations â†’ Webhooks â†’ New Webhook" 
                               Foreground="#666" 
                               FontSize="11" 
                               TextWrapping="Wrap"
                               Margin="0,10,0,0"/>
                </StackPanel>
            </Border>

            <!-- Rich Presence Section -->
            <Border Background="#2D2D30" CornerRadius="8" Padding="20" Margin="0,0,0,20">
                <StackPanel>
                    <TextBlock Text="Discord Rich Presence" Foreground="White" FontSize="16" FontWeight="SemiBold" Margin="0,0,0,8"/>
                    <TextBlock Text="Show your VRCGT activity in Discord with buttons to GitHub and the current group." Foreground="#AAA" Margin="0,0,0,12" TextWrapping="Wrap"/>

                    <CheckBox Content="Enable Rich Presence"
                              IsChecked="{Binding PresenceEnabled}"
                              Foreground="White"
                              Margin="0,0,0,10"
                              Style="{StaticResource MaterialDesignCheckBox}"/>

                    <TextBlock Text="Discord Application ID" Foreground="#AAA" FontSize="12" Margin="0,0,0,6"/>
                    <TextBox Text="{Binding PresenceAppId, UpdateSourceTrigger=PropertyChanged}"
                             materialDesign:HintAssist.Hint="123456789012345678"
                             Foreground="White"
                             CaretBrush="White"
                             Style="{StaticResource MaterialDesignOutlinedTextBox}"/>
                    <TextBlock Text="Create a Discord application at https://discord.com/developers/applications and copy its Client ID."
                               Foreground="#666" FontSize="11" TextWrapping="Wrap" Margin="0,6,0,10"/>

                    <CheckBox Content="Show GitHub button (0xE69/VRCGT)"
                              IsChecked="{Binding PresenceShowRepoButton}"
                              Foreground="White"
                              Margin="0,0,0,0"
                              Style="{StaticResource MaterialDesignCheckBox}"/>
                </StackPanel>
            </Border>

            <!-- Event Toggles Section -->
            <Border Background="#2D2D30" CornerRadius="8" Padding="20" Margin="0,0,0,20">
                <StackPanel>
                    <Grid Margin="0,0,0,15">
                        <TextBlock Text="Event Notifications" 
                                   Foreground="White" 
                                   FontSize="16" 
                                   FontWeight="SemiBold"
                                   VerticalAlignment="Center"/>
                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                            <Button Content="Select All"
                                    Command="{Binding SelectAllCommand}"
                                    Height="28"
                                    FontSize="11"
                                    Margin="0,0,10,0"
                                    Style="{StaticResource MaterialDesignFlatButton}"
                                    Foreground="#7C4DFF"/>
                            <Button Content="Deselect All"
                                    Command="{Binding DeselectAllCommand}"
                                    Height="28"
                                    FontSize="11"
                                    Style="{StaticResource MaterialDesignFlatButton}"
                                    Foreground="#888"/>
                        </StackPanel>
                    </Grid>

                    <!-- Member Events -->
                    <TextBlock Text="MEMBER EVENTS" Foreground="#666" FontSize="11" FontWeight="SemiBold" Margin="0,0,0,10"/>
                    
                    <CheckBox Content="ðŸ‘‹  User Joins"
                              IsChecked="{Binding NotifyUserJoins}"
                              Foreground="White"
                              Margin="0,0,0,8"
                              Style="{StaticResource MaterialDesignCheckBox}"/>
                    
                    <CheckBox Content="ðŸšª  User Leaves"
                              IsChecked="{Binding NotifyUserLeaves}"
                              Foreground="White"
                              Margin="0,0,0,8"
                              Style="{StaticResource MaterialDesignCheckBox}"/>
                    
                    <CheckBox Content="ðŸ‘¢  User Kicked"
                              IsChecked="{Binding NotifyUserKicked}"
                              Foreground="White"
                              Margin="0,0,0,8"
                              Style="{StaticResource MaterialDesignCheckBox}"/>
                    
                    <CheckBox Content="ðŸ”¨  User Banned"
                              IsChecked="{Binding NotifyUserBanned}"
                              Foreground="White"
                              Margin="0,0,0,8"
                              Style="{StaticResource MaterialDesignCheckBox}"/>
                    
                    <CheckBox Content="âœ…  User Unbanned"
                              IsChecked="{Binding NotifyUserUnbanned}"
                              Foreground="White"
                              Margin="0,0,0,8"
                              Style="{StaticResource MaterialDesignCheckBox}"/>
                    
                    <CheckBox Content="âž•  User Role Added"
                              IsChecked="{Binding NotifyUserRoleAdd}"
                              Foreground="White"
                              Margin="0,0,0,8"
                              Style="{StaticResource MaterialDesignCheckBox}"/>
                    
                    <CheckBox Content="âž–  User Role Removed"
                              IsChecked="{Binding NotifyUserRoleRemove}"
                              Foreground="White"
                              Margin="0,0,0,20"
                              Style="{StaticResource MaterialDesignCheckBox}"/>

                    <!-- Role Events -->
                    <TextBlock Text="ROLE EVENTS" Foreground="#666" FontSize="11" FontWeight="SemiBold" Margin="0,0,0,10"/>
                    
                    <CheckBox Content="ðŸŽ­  Role Created"
                              IsChecked="{Binding NotifyRoleCreate}"
                              Foreground="White"
                              Margin="0,0,0,8"
                              Style="{StaticResource MaterialDesignCheckBox}"/>
                    
                    <CheckBox Content="ðŸ·ï¸  Role Updated"
                              IsChecked="{Binding NotifyRoleUpdate}"
                              Foreground="White"
                              Margin="0,0,0,8"
                              Style="{StaticResource MaterialDesignCheckBox}"/>
                    
                    <CheckBox Content="ðŸ—‘ï¸  Role Deleted"
                              IsChecked="{Binding NotifyRoleDelete}"
                              Foreground="White"
                              Margin="0,0,0,20"
                              Style="{StaticResource MaterialDesignCheckBox}"/>

                    <!-- Instance Events -->
                    <TextBlock Text="INSTANCE EVENTS" Foreground="#666" FontSize="11" FontWeight="SemiBold" Margin="0,0,0,10"/>
                    
                    <CheckBox Content="ðŸŒ  Instance Created"
                              IsChecked="{Binding NotifyInstanceCreate}"
                              Foreground="White"
                              Margin="0,0,0,8"
                              Style="{StaticResource MaterialDesignCheckBox}"/>
                    
                    <CheckBox Content="ðŸš«  Instance Deleted"
                              IsChecked="{Binding NotifyInstanceDelete}"
                              Foreground="White"
                              Margin="0,0,0,8"
                              Style="{StaticResource MaterialDesignCheckBox}"/>
                    
                    <CheckBox Content="ðŸŒ  Instance Opened"
                              IsChecked="{Binding NotifyInstanceOpened}"
                              Foreground="White"
                              Margin="0,0,0,8"
                              Style="{StaticResource MaterialDesignCheckBox}"/>
                    
                    <CheckBox Content="ðŸ”’  Instance Closed"
                              IsChecked="{Binding NotifyInstanceClosed}"
                              Foreground="White"
                              Margin="0,0,0,20"
                              Style="{StaticResource MaterialDesignCheckBox}"/>

                    <!-- Group Events -->
                    <TextBlock Text="GROUP EVENTS" Foreground="#666" FontSize="11" FontWeight="SemiBold" Margin="0,0,0,10"/>
                    
                    <CheckBox Content="âš™ï¸  Group Settings Updated"
                              IsChecked="{Binding NotifyGroupUpdate}"
                              Foreground="White"
                              Margin="0,0,0,20"
                              Style="{StaticResource MaterialDesignCheckBox}"/>

                    <!-- Invite & Join Events -->
                    <TextBlock Text="INVITE &amp; JOIN EVENTS" Foreground="#666" FontSize="11" FontWeight="SemiBold" Margin="0,0,0,10"/>
                    
                    <CheckBox Content="ðŸ’Œ  Invite Sent"
                              IsChecked="{Binding NotifyInviteCreate}"
                              Foreground="White"
                              Margin="0,0,0,8"
                              Style="{StaticResource MaterialDesignCheckBox}"/>
                    
                    <CheckBox Content="âœ”ï¸  Invite Accepted"
                              IsChecked="{Binding NotifyInviteAccept}"
                              Foreground="White"
                              Margin="0,0,0,8"
                              Style="{StaticResource MaterialDesignCheckBox}"/>
                    
                    <CheckBox Content="âŒ  Invite Rejected"
                              IsChecked="{Binding NotifyInviteReject}"
                              Foreground="White"
                              Margin="0,0,0,8"
                              Style="{StaticResource MaterialDesignCheckBox}"/>
                    
                    <CheckBox Content="ðŸ“¥  Join Request"
                              IsChecked="{Binding NotifyJoinRequests}"
                              Foreground="White"
                              Margin="0,0,0,20"
                              Style="{StaticResource MaterialDesignCheckBox}"/>

                    <!-- Announcement Events -->
                    <TextBlock Text="ANNOUNCEMENT EVENTS" Foreground="#666" FontSize="11" FontWeight="SemiBold" Margin="0,0,0,10"/>
                    
                    <CheckBox Content="ðŸ“¢  Announcement Posted"
                              IsChecked="{Binding NotifyAnnouncementCreate}"
                              Foreground="White"
                              Margin="0,0,0,8"
                              Style="{StaticResource MaterialDesignCheckBox}"/>
                    
                    <CheckBox Content="ðŸ—‘ï¸  Announcement Deleted"
                              IsChecked="{Binding NotifyAnnouncementDelete}"
                              Foreground="White"
                              Margin="0,0,0,20"
                              Style="{StaticResource MaterialDesignCheckBox}"/>

                    <!-- Gallery Events -->
                    <TextBlock Text="GALLERY EVENTS" Foreground="#666" FontSize="11" FontWeight="SemiBold" Margin="0,0,0,10"/>
                    
                    <CheckBox Content="ðŸ–¼ï¸  Gallery Item Added"
                              IsChecked="{Binding NotifyGalleryCreate}"
                              Foreground="White"
                              Margin="0,0,0,8"
                              Style="{StaticResource MaterialDesignCheckBox}"/>
                    
                    <CheckBox Content="ðŸ—‘ï¸  Gallery Item Removed"
                              IsChecked="{Binding NotifyGalleryDelete}"
                              Foreground="White"
                              Margin="0,0,0,20"
                              Style="{StaticResource MaterialDesignCheckBox}"/>

                    <!-- Post Events -->
                    <TextBlock Text="POST EVENTS" Foreground="#666" FontSize="11" FontWeight="SemiBold" Margin="0,0,0,10"/>
                    
                    <CheckBox Content="ðŸ“  Post Created"
                              IsChecked="{Binding NotifyPostCreate}"
                              Foreground="White"
                              Margin="0,0,0,8"
                              Style="{StaticResource MaterialDesignCheckBox}"/>
                    
                    <CheckBox Content="ðŸ—‘ï¸  Post Deleted"
                              IsChecked="{Binding NotifyPostDelete}"
                              Foreground="White"
                              Margin="0,0,0,8"
                              Style="{StaticResource MaterialDesignCheckBox}"/>
                </StackPanel>
            </Border>

            <!-- Save Button -->
            <Button Content="ðŸ’¾  Save Settings"
                    Command="{Binding SaveSettingsCommand}"
                    Height="45"
                    FontSize="14"
                    Background="#7C4DFF"
                    Foreground="White"
                    Style="{StaticResource MaterialDesignRaisedButton}"/>
        </StackPanel>
    </ScrollViewer>
</UserControl>
